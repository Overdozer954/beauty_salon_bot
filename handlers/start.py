from aiogram import Router, types
from aiogram.filters import Command
from aiogram.utils.keyboard import ReplyKeyboardBuilder

router = Router()


# –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –º–µ–Ω—é
@router.message(Command("start"))
async def start_command(message: types.Message):
    # –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å –∫–Ω–æ–ø–∫–∞–º–∏
    builder = ReplyKeyboardBuilder()
    builder.row(
        types.KeyboardButton(text="üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É"),
        types.KeyboardButton(text="üíÜ –ù–∞—à–∏ —É—Å–ª—É–≥–∏"),
    )
    builder.row(
        types.KeyboardButton(text="üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã"),
        types.KeyboardButton(text="‚ÑπÔ∏è –û –Ω–∞—Å"),
    )

    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await message.answer(
        "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ OxiBeauty! üéÄ\n\n"
        "–ú—ã ‚Äî –≤–∞—à –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏—è –≤ —Ü–µ–Ω—Ç—Ä–µ –†–∏–≥–∏. "
        "–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ:",
        reply_markup=builder.as_markup(resize_keyboard=True),
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–û –Ω–∞—Å"
@router.message(lambda message: message.text == "‚ÑπÔ∏è –û –Ω–∞—Å")
async def about_us(message: types.Message):
    await message.answer(
        "OxiBeauty ‚Äî –º–µ—Å—Ç–æ, –≥–¥–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å –∑–∞–±–æ—Ç–æ–π. üíñ\n\n"
        "–ú—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –ø–æ –∞–¥—Ä–µ—Å—É –õ–∏–µ–Ω–µ—Å 6, –†–∏–≥–∞. "
        "–ù–∞—à–∏ —É—Å–ª—É–≥–∏ –≤–∫–ª—é—á–∞—é—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∞—Å—Å–∞–∂–∏, —ç–ø–∏–ª—è—Ü–∏—é –∏ –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è –≤–∞—à–µ–π –∫—Ä–∞—Å–æ—Ç—ã."
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞—à–∏ —É—Å–ª—É–≥–∏"
@router.message(lambda message: message.text == "üíÜ –ù–∞—à–∏ —É—Å–ª—É–≥–∏")
async def services(message: types.Message):
    await message.answer(
        "–ù–∞—à–∏ —É—Å–ª—É–≥–∏:\n\n"
        "üíÜ **–ú–∞—Å—Å–∞–∂**: –†–∞—Å—Å–ª–∞–±–ª—è—é—â–∏–π –∏ –∞–Ω—Ç–∏—Ü–µ–ª–ª—é–ª–∏—Ç–Ω—ã–π –º–∞—Å—Å–∞–∂.\n"
        "‚ú® **–≠–ø–∏–ª—è—Ü–∏—è**: –ë–µ—Ä–µ–∂–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ª–æ—Å –¥–ª—è –≥–ª–∞–¥–∫–æ–π –∫–æ–∂–∏.\n"
        "üíé **Beautylizer**: –ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è —Å–∏—è—é—â–µ–π –∫–æ–∂–∏.\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É –¥–ª—è –∑–∞–ø–∏—Å–∏."
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ö–æ–Ω—Ç–∞–∫—Ç—ã"
@router.message(lambda message: message.text == "üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã")
async def contacts(message: types.Message):
    await message.answer(
        "–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã:\n\n"
        "üìç –ê–¥—Ä–µ—Å: –õ–∏–µ–Ω–µ—Å 6, –†–∏–≥–∞\n"
        "üìû –¢–µ–ª–µ—Ñ–æ–Ω: +371 25403503\n"
        "üåê –°–∞–π—Ç: https://oxibeauty.lv\n\n"
        "–ú—ã –∂–¥–µ–º –≤–∞—Å!"
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É"
@router.message(lambda message: message.text == "üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É")
async def book_service(message: types.Message):
    await message.answer(
        "–ß—Ç–æ–±—ã –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä—É, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —É—Å–ª—É–≥–∏:\n\n"
        "1. –ú–∞—Å—Å–∞–∂\n"
        "2. –≠–ø–∏–ª—è—Ü–∏—è\n"
        "3. Beautylizer\n\n"
        "–ù–∞–ø–∏—à–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è."
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥–∏
@router.message(lambda message: message.text in ["1", "2", "3"])
async def choose_service_category(message: types.Message):
    categories = {
        "1": "–ú–∞—Å—Å–∞–∂",
        "2": "–≠–ø–∏–ª—è—Ü–∏—è",
        "3": "Beautylizer",
    }
    category = categories[message.text]

    await message.answer(
        f"–í—ã –≤—ã–±—Ä–∞–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é: {category}.\n\n"
        "–¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —É—Å–ª—É–≥—É –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ:\n\n"
        "1. –£—Å–ª—É–≥–∞ 1\n"
        "2. –£—Å–ª—É–≥–∞ 2\n"
        "3. –£—Å–ª—É–≥–∞ 3\n\n"
        "–ù–∞–ø–∏—à–∏—Ç–µ –Ω–æ–º–µ—Ä —É—Å–ª—É–≥–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è."
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —É—Å–ª—É–≥–∏
@router.message(lambda message: message.text in ["1", "2", "3"])
async def choose_service(message: types.Message):
    services = {
        "1": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∞–∂ (–ü–æ–ª–Ω–æ–µ —Ç–µ–ª–æ) - 40‚Ç¨",
        "2": "–≠–ø–∏–ª—è—Ü–∏—è –ø–æ–¥–º—ã—à–µ–∫ + –ë–∏–∫–∏–Ω–∏ - 55‚Ç¨",
        "3": "Beautylizer (1 –∑–æ–Ω–∞) - 40‚Ç¨",
    }
    service = services[message.text]

    await message.answer(
        f"–í—ã –≤—ã–±—Ä–∞–ª–∏ —É—Å–ª—É–≥—É: {service}.\n\n"
        "–¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—É—é –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–ø–∏—Å–∏.\n\n"
        "–ù–∞–ø–∏—à–∏—Ç–µ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î.–ú–ú.–ì–ì–ì–ì (–Ω–∞–ø—Ä–∏–º–µ—Ä, 25.10.2023)."
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã
@router.message(lambda message: message.text.count(".") == 2)
async def choose_date(message: types.Message):
    await message.answer(
        f"–í—ã –≤—ã–±—Ä–∞–ª–∏ –¥–∞—Ç—É: {message.text}.\n\n"
        "–¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–∞–ø–∏—Å–∏.\n\n"
        "–ù–∞–ø–∏—à–∏—Ç–µ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ß–ß:–ú–ú (–Ω–∞–ø—Ä–∏–º–µ—Ä, 14:00)."
    )


# –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –≤—Ä–µ–º–µ–Ω–∏
@router.message(lambda message: message.text.count(":") == 1)
async def choose_time(message: types.Message):
    await message.answer(
        f"–í—ã –≤—ã–±—Ä–∞–ª–∏ –≤—Ä–µ–º—è: {message.text}.\n\n"
        "–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–ø–∏—Å—å! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è."
    )
